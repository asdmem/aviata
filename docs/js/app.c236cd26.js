(function(t){function e(e){for(var n,r,c=e[0],l=e[1],o=e[2],p=0,d=[];p<c.length;p++)r=c[p],a[r]&&d.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,o||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,c=1;c<i.length;c++){var l=i[c];0!==a[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},s=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="https://asdmem.github.io/aviata/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var o=0;o<c.length;o++)e(c[o]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"54ca":function(t,e,i){},"5c0b":function(t,e,i){"use strict";var n=i("5e27"),a=i.n(n);a.a},"5e27":function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js + TypeScript App"}})],1)},s=[],r=i("9ab4"),c=i("60a3"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"filters"},[i("div",{staticClass:"dropdown"},[t._m(0),i("div",{staticClass:"dropdown-list"},[i("div",{staticClass:"dropdown-item"},[i("label",{staticClass:"custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.allCompanies,expression:"allCompanies"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allCompanies)?t._i(t.allCompanies,null)>-1:t.allCompanies},on:{change:[function(e){var i=t.allCompanies,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=null,r=t._i(i,s);n.checked?r<0&&(t.allCompanies=i.concat([s])):r>-1&&(t.allCompanies=i.slice(0,r).concat(i.slice(r+1)))}else t.allCompanies=a},t.allSelected]}}),i("div",{staticClass:"custom-checkbox-content"})]),i("span",[t._v("Все")])]),t._l(t.companies,function(e){return i("div",{staticClass:"dropdown-item"},[i("label",{staticClass:"custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCompanies,expression:"selectedCompanies"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.selectedCompanies)?t._i(t.selectedCompanies,e)>-1:t.selectedCompanies},on:{change:[function(i){var n=t.selectedCompanies,a=i.target,s=!!a.checked;if(Array.isArray(n)){var r=e,c=t._i(n,r);a.checked?c<0&&(t.selectedCompanies=n.concat([r])):c>-1&&(t.selectedCompanies=n.slice(0,c).concat(n.slice(c+1)))}else t.selectedCompanies=s},t.applyFilters]}}),i("div",{staticClass:"custom-checkbox-content"})]),i("span",[t._v(t._s(e))])])})],2)]),i("div",{staticClass:"direct-fly"},[i("label",{staticClass:"custom-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyDirect,expression:"onlyDirect"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.onlyDirect)?t._i(t.onlyDirect,null)>-1:t.onlyDirect},on:{change:[function(e){var i=t.onlyDirect,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=null,r=t._i(i,s);n.checked?r<0&&(t.onlyDirect=i.concat([s])):r>-1&&(t.onlyDirect=i.slice(0,r).concat(i.slice(r+1)))}else t.onlyDirect=a},t.applyFilters]}}),i("div",{staticClass:"custom-checkbox-content"})]),i("span",[t._v("Только прямые рейсы")])])]),i("div",{staticClass:"sell-block"},[t._m(1),i("div",{staticClass:"tickets"},t._l(t.filteredTickets,function(e){return i("div",{staticClass:"ticket"},[i("div",{staticClass:"name column"},t._l(e.flights,function(e){return i("img",{attrs:{src:t.getImageByCompanyName(e.airline.name)}})}),0),i("div",{staticClass:"type column"},[t._v(t._s(e.flights.length>1?"Пересадка":"Прямой"))]),t._m(2,!0),i("div",{staticClass:"d-a-time column"},t._l(e.flights,function(e){return i("span",[t._v(t._s(e.departureTime)+" - "+t._s(e.arrivalTime))])}),0),i("div",{staticClass:"travel-time column"},[i("span",[t._v(t._s(t._f("formatTravelTime")(e.flightDuration)))])]),i("div",{staticClass:"buy-button column"},[i("button",[t._v("Купить за "+t._s(t._f("formatCurrency")(e.price))+" KZT")])])])}),0)])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown-title"},[i("span",{staticClass:"dropdown-title-name"},[t._v("Авиакомпании")]),i("span",{staticClass:"dropdown-symbol"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"name column"},[t._v("Авиакомпания")]),i("div",{staticClass:"type column"},[t._v("Рейс")]),i("div",{staticClass:"misc column"},[t._v("Выбор времени")]),i("div",{staticClass:"d-a-time column"},[t._v("Вылет-посадка")]),i("div",{staticClass:"travel-time column"},[t._v("Время в пути")]),i("div",{staticClass:"buy-button column"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"misc column"},[i("div",{staticClass:"time-select"},[i("span",{staticClass:"text"},[t._v("Выбрать другое время")]),i("span",{staticClass:"dropdown-symbol"})]),i("span",{staticClass:"share text"},[t._v("Поделиться")])])}],u=function(t){function e(){var e=t.call(this)||this;return e.tickets=[],e.filteredTickets=[],e.imgPath=new Map,e.companies=[],e.onlyDirect=!1,e.selectedCompanies=[],e.allCompanies=!0,e.imgPath.set("Air Astana","img/air_astana.png"),e.imgPath.set("Scat","img/scat.png"),e}return r["c"](e,t),e.prototype.created=function(){return r["a"](this,void 0,void 0,function(){var t,e;return r["d"](this,function(i){switch(i.label){case 0:return t=this,[4,fetch("data.json").then(function(t){return t.json()})];case 1:return t.tickets=i.sent(),this.filteredTickets=this.tickets,e=new Set,this.tickets.forEach(function(t){return t.flights.forEach(function(t){return e.add(t.airline.name)})}),this.companies=Array.from(e),this.selectedCompanies=this.companies,[2]}})})},e.prototype.getImageByCompanyName=function(t){return this.imgPath.get(t)},e.prototype.allSelected=function(){this.selectedCompanies=this.allCompanies?this.companies:[],this.applyFilters()},e.prototype.onlyDirectFilter=function(t){this.onlyDirect&&(t.data=t.data.filter(function(t){return 1===t.flights.length}))},e.prototype.companySelectFilter=function(t){var e=this;this.selectedCompanies.length>0&&(t.data=t.data.filter(function(t){return t.flights.some(function(t){return e.selectedCompanies.includes(t.airline.name)})}),this.allCompanies=this.selectedCompanies.length===this.companies.length)},e.prototype.applyFilters=function(){var t={data:this.tickets};this.onlyDirectFilter(t),this.companySelectFilter(t),this.filteredTickets=t.data},e=r["b"]([c["a"]],e),e}(c["b"]),p=u,d=p,m=(i("ef14"),i("2877")),f=Object(m["a"])(d,l,o,!1,null,"752eeaa0",null);f.options.__file="HelloWorld.vue";var v=f.exports,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),e=r["b"]([Object(c["a"])({components:{HelloWorld:v}})],e),e}(c["b"]),y=h,C=y,_=(i("5c0b"),Object(m["a"])(C,a,s,!1,null,null,null));_.options.__file="App.vue";var b=_.exports;function g(t){var e=new Intl.NumberFormat("kz-ru",{style:"currency",currency:"KZT",minimumFractionDigits:0});return e.format(t)}function k(t){var e=String(Math.floor(t/60)),i=String(t%60);return e+"ч "+i+"м"}n["default"].config.productionTip=!1,n["default"].filter("formatCurrency",g),n["default"].filter("formatTravelTime",k),new n["default"]({render:function(t){return t(b)}}).$mount("#app")},ef14:function(t,e,i){"use strict";var n=i("54ca"),a=i.n(n);a.a}});
//# sourceMappingURL=app.c236cd26.js.map